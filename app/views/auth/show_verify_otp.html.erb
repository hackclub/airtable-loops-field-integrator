<% content_for :title, "Verify OTP" %>

<div class="container-narrow">
  <h1>Enter OTP Code</h1>

  <% if flash[:notice] %>
    <div class="alert alert-notice"><%= flash[:notice] %></div>
  <% end %>

  <% if flash[:error] %>
    <div class="alert alert-error"><%= flash[:error] %></div>
  <% end %>

  <% if @email %>
    <div class="text-muted" style="font-size: 14px; margin-bottom: 16px;">
      Code sent to: <strong><%= @email %></strong>
    </div>
  <% end %>

  <%= form_with url: auth_otp_verify_path, method: :post, local: true do |form| %>
    <div class="form-group">
      <%= form.label :code, "4-Digit Code" %>
      <%= form.text_field :code, required: true, autofocus: true, maxlength: 4, pattern: "[0-9]{4}", placeholder: "0000", class: "otp-code" %>
    </div>

    <div class="form-actions">
      <%= form.submit "Verify Code", class: "btn btn-full" %>
    </div>
  <% end %>

  <div style="margin-top: 16px; text-align: center;">
    <%= link_to "â† Request New Code", auth_otp_request_path, class: "btn btn-secondary btn-full" %>
  </div>

  <p class="text-muted" style="margin-top: 32px; font-size: 14px;">
    Enter the 4-digit code sent to your email address.
  </p>
</div>

