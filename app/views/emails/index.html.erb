<% content_for :title, "Email Audit Logs" %>

<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    line-height: 1.6;
  }
  h1 {
    color: #333;
    margin-bottom: 30px;
  }
  .nav {
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid #ddd;
  }
  .nav a {
    color: #007bff;
    text-decoration: none;
    margin-right: 20px;
    font-weight: 500;
  }
  .nav a:hover {
    text-decoration: underline;
  }
  .nav a.active {
    color: #333;
    font-weight: 600;
  }
  ul {
    list-style: none;
    padding: 0;
  }
  li {
    padding: 12px;
    margin-bottom: 8px;
    background-color: #f5f5f5;
    border-radius: 4px;
    border-left: 3px solid #007bff;
  }
  li:hover {
    background-color: #e9ecef;
  }
  a {
    color: #007bff;
    text-decoration: none;
    font-weight: 500;
  }
  a:hover {
    text-decoration: underline;
  }
  .empty {
    color: #666;
    font-style: italic;
  }
</style>

<div class="nav">
  <%= link_to "Email Audit Logs", emails_path, class: (request.path == emails_path ? "active" : "") %>
  <%= link_to "Sync Sources", sync_sources_path, class: (request.path.start_with?("/sync_sources") ? "active" : "") %>
  <%= link_to "Sidekiq", "/sidekiq", class: (request.path.start_with?("/sidekiq") ? "active" : "") %>
</div>

<h1>Email Audit Logs</h1>

<% if @emails.any? %>
  <ul>
    <% @emails.each do |email| %>
      <li>
        <%= link_to email, "/emails/#{ERB::Util.url_encode(email)}" %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p class="empty">No emails with audit logs found.</p>
<% end %>

